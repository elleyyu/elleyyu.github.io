<!DOCTYPE html>
<html>
<head>
  <title>組字春聯製作器</title>
  <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
</head>

<body>
  <nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo center">組字春聯製作器</a>
    </div>
  </nav>
  <div class="container" id="container">
    <div class="row">
      <blockquote>或許要給一段介紹文字</blockquote>

      <!-- show result -->
      <p>檢視結果: </p>
      <div class="s12 center" style="margin-bottom: 2em;">
        <div class="red" style="display: inline-block; transform: rotate(45deg); padding: 5px;">
          <img :src="imgUrl" style="transform: rotate(-45deg); padding-right: 5px;">
        </div>
      </div>

      <!-- input string-->
      <div class="input-field col s12">
        <input type="text" class="validate" v-model="request_string">
      </div>

      <div class="input-field col s12" style="margin-bottom: 1em;">
        <button class="waves-effect waves-light btn btn-flat" v-for="ch in characters" v-on:click="addCh(ch)">{{ ch }}</button>
      </div>

      <!-- font selecter -->
      <div class="input-field col s12">
        <select name="font" v-model="font">
          <option>楷體</option>
        </select>
        <label>字體</label>
      </div>

      <!-- type selecter -->
      <div class="input-field col s12">
        <select name="type" v-model="types">
          <option>svg</option>
        </select>
        <label>格式</label>
      </div>
    </div>

    <!-- TODO: change link -->
    <iframe src="https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&layout=button&size=large&mobile_iframe=true&width=64&height=28&appId" width="64" height="28" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>

  </div>
  <main></main>

  <footer class="page-footer">
    <div class="footer-copyright">
      <div class="container">
      © 2017 Copyright
      <a class="grey-text text-lighten-4 right" href="https://github.com/elleyyu">Contact me</a>
      </div>
    </div>
  </footer>
</body>
</html>

<script type="text/javascript">
  var container = new Vue({
    el: '#container',
    data() {
      return {
        request_string: '⿴辶⿴宀⿱珤⿰隹⿰貝招',
        characters: ['⿰', '⿱', '⿲', '⿳', '⿴', '⿵', '⿶', '⿷', '⿸', '⿹', '⿺'],
        font: '楷體',
        types: 'svg',
      };
    },

    computed: {
      imgUrl() {
        const q = this.request_string, font = this.font, type = this.types;
        return `http://tools.wmflabs.org/idsgen/${q}.${type}?字體=${font}`;
      },
    },

    methods: {
      addCh(ch) {
        this.request_string += ch;
      }
    },

    mounted() {
      $('select').material_select();
    },
  });

</script>

<style type="text/css">
  body {
    display: flex;
    min-height: 100vh;
    flex-direction: column;
  }

  main {
    flex: 1 0 auto;
  }
</style>
